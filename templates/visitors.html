{% extends 'base_layouts.html' %}
{% load static %}
{% block content %}


<section>
  <div class="container">
    <h3 class="ms-2 heading mb-3">
      <svg _ngcontent-ejx-c158="" class="me-3" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 52.51 52.26" style="fill: #401648; width: 40px; height: 2.925vw;">
        <defs _ngcontent-ejx-c158=""></defs>
        <path _ngcontent-ejx-c158="" id="Path_2" data-name="Path 2"
          d="M23.6,37.46a13,13,0,0,1-8.54-6.8l-3.64,1.1a5.4,5.4,0,0,1-1.24,4.56A4.88,4.88,0,0,1,7.08,38,5.33,5.33,0,0,1,.89,34.36,5.5,5.5,0,0,1,3.6,27.73c2.25-1.07,5.67-.57,7.06,2l3.66-1.09c-1.81-6.44.68-11.13,5.94-14.75-.27-.6-.53-1.22-.84-1.82a.59.59,0,0,0-.47-.19,5.09,5.09,0,0,1-5.44-2.17,5.57,5.57,0,0,1,0-6.23A5.41,5.41,0,0,1,19,1.2c4.26.67,5.65,5.63,3.37,8.73-.27.37-.53.76-.8,1.14l-.26-.2.9,2A12.29,12.29,0,0,1,29,12.19a13.44,13.44,0,0,1,6,2.89l3.5-3.5A5.44,5.44,0,0,1,37.84,7,5.06,5.06,0,0,1,40,4.13a5.5,5.5,0,1,1,.18,9.21l-3.5,3.5a12.91,12.91,0,0,1,3.06,7.55,12.45,12.45,0,0,1-2.48,7.91c1.09.9,2.2,1.75,3.21,2.71a1.78,1.78,0,0,0,2.49.36h0a4.91,4.91,0,0,1,5.82.74,5.25,5.25,0,0,1,1.6,5.73,4.91,4.91,0,0,1-4.28,3.76,5.28,5.28,0,0,1-6.35-5.17,11,11,0,0,1,.44-2.27c0-.19,0-.48-.06-.57-1.35-1.16-2.72-2.29-4.1-3.43A12.86,12.86,0,0,1,25.74,38l-.33,2.64a4.72,4.72,0,0,1,3.18,3.18,5.74,5.74,0,0,1-.1,4A5.37,5.37,0,0,1,22.14,51,5.24,5.24,0,0,1,18,45.52c.09-3,1.85-4.8,5.21-5.27C23.36,39.33,23.48,38.42,23.6,37.46ZM34.94,32.1A10.86,10.86,0,1,0,18.56,17.85h0c-4,4.46-3.22,11.06,0,14.26l4-1.48a1.36,1.36,0,0,0,.89-1.71,1.5,1.5,0,0,0-.16-.34c-.27-.53-.45-1.1-.69-1.65a1.17,1.17,0,0,0-.26-.44,2.5,2.5,0,0,1-1-2.78,2.76,2.76,0,0,0,0-1.56,4.86,4.86,0,0,1,3.56-5.86l.07,0c2.43-.6,4.3.56,6.11,1.85A2.52,2.52,0,0,1,32,19.71a23.65,23.65,0,0,1,0,3.15c0,.17-.07.37,0,.51a2.13,2.13,0,0,1-.23,2.42,7.85,7.85,0,0,0-1.34,2.48,2.25,2.25,0,0,1-.12.21c-.67,1.2-.44,1.77.87,2.22s2.49.91,3.8,1.4Zm-14.6,1.66c4,3.07,9.85,2.5,12.73,0l-1.7-.63A21.4,21.4,0,0,1,29,32.14,2.1,2.1,0,0,1,27.8,30c.05-.56,0-1.12,0-1.68a1.21,1.21,0,0,1,.19-.52,7,7,0,0,0,.64-1.05,18.1,18.1,0,0,0,.42-1.8c.36-.09.94.17.88-.59l-.4-.23c.15-1.14.36-2.2.4-3.25s-.43-1.55-1.49-1.74a1.9,1.9,0,0,1-.48-.27c-.34-.19-.67-.52-1-.52a8,8,0,0,0-2.06.3,1.87,1.87,0,0,0-1.3,1.45,4.84,4.84,0,0,0,.2,3.12c.1.23.19.47.23.59l-.54.68.82.46a8.69,8.69,0,0,0,.86,2.38,2.64,2.64,0,0,1,.45,1.7c0,.32,0,.64,0,1a2.15,2.15,0,0,1-1.2,2.17,11.75,11.75,0,0,1-1.58.71c-.81.3-1.62.57-2.53.9Zm3.14,8.68a3,3,0,0,0-3.25,2.82,2.44,2.44,0,0,0,0,.38,3.25,3.25,0,1,0,6.5,0h0a3.07,3.07,0,0,0-2.89-3.23ZM18,9.79a3.08,3.08,0,0,0,3.26-2.88c0-.11,0-.22,0-.33A3.12,3.12,0,0,0,18.34,3.3H18A3.07,3.07,0,0,0,14.8,6.22a2,2,0,0,0,0,.35,3,3,0,0,0,2.82,3.22,2.81,2.81,0,0,0,.41,0ZM6.1,35.87A3,3,0,0,0,9.31,33a2.67,2.67,0,0,0,0-.4,3.07,3.07,0,0,0-2.88-3.25H6.09a3.12,3.12,0,0,0-3.27,2.95v.28a3.08,3.08,0,0,0,2.89,3.26,2.54,2.54,0,0,0,.39,0ZM43,12a3.06,3.06,0,0,0,3.26-2.84c0-.12,0-.24,0-.36a3.1,3.1,0,0,0-2.91-3.28,2.16,2.16,0,0,0-.36,0A3.24,3.24,0,1,0,43,12ZM45.2,43.48A3.24,3.24,0,1,0,42,40.26,3.24,3.24,0,0,0,45.2,43.48Z"
          class="cls-1"></path>
      </svg>Visitor Segmentation
    </h3>
    <div class="chart-seg-visitor">
      <div class="bg-white p-5 container" style="text-align: center; height: 150px; position: absolute; left:190px; z-index: 0;">
        <b>No data for you today!</b>
    </div>
      <div class="" id="visitor_seg_pie_chart" style=" height:300px;" class="custor_seg_pie_chart">  
      </div>
  
    </div>
    <h3 class="ms-2 heading mb-4 mt-4"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 52.51 52.26" style="fill: #401648; width: 40px2.6vw; height: 2.925vw">
        <defs></defs>
        <path id="Path_2" data-name="Path 2" class="cls-1"
          d="M23.6,37.46a13,13,0,0,1-8.54-6.8l-3.64,1.1a5.4,5.4,0,0,1-1.24,4.56A4.88,4.88,0,0,1,7.08,38,5.33,5.33,0,0,1,.89,34.36,5.5,5.5,0,0,1,3.6,27.73c2.25-1.07,5.67-.57,7.06,2l3.66-1.09c-1.81-6.44.68-11.13,5.94-14.75-.27-.6-.53-1.22-.84-1.82a.59.59,0,0,0-.47-.19,5.09,5.09,0,0,1-5.44-2.17,5.57,5.57,0,0,1,0-6.23A5.41,5.41,0,0,1,19,1.2c4.26.67,5.65,5.63,3.37,8.73-.27.37-.53.76-.8,1.14l-.26-.2.9,2A12.29,12.29,0,0,1,29,12.19a13.44,13.44,0,0,1,6,2.89l3.5-3.5A5.44,5.44,0,0,1,37.84,7,5.06,5.06,0,0,1,40,4.13a5.5,5.5,0,1,1,.18,9.21l-3.5,3.5a12.91,12.91,0,0,1,3.06,7.55,12.45,12.45,0,0,1-2.48,7.91c1.09.9,2.2,1.75,3.21,2.71a1.78,1.78,0,0,0,2.49.36h0a4.91,4.91,0,0,1,5.82.74,5.25,5.25,0,0,1,1.6,5.73,4.91,4.91,0,0,1-4.28,3.76,5.28,5.28,0,0,1-6.35-5.17,11,11,0,0,1,.44-2.27c0-.19,0-.48-.06-.57-1.35-1.16-2.72-2.29-4.1-3.43A12.86,12.86,0,0,1,25.74,38l-.33,2.64a4.72,4.72,0,0,1,3.18,3.18,5.74,5.74,0,0,1-.1,4A5.37,5.37,0,0,1,22.14,51,5.24,5.24,0,0,1,18,45.52c.09-3,1.85-4.8,5.21-5.27C23.36,39.33,23.48,38.42,23.6,37.46ZM34.94,32.1A10.86,10.86,0,1,0,18.56,17.85h0c-4,4.46-3.22,11.06,0,14.26l4-1.48a1.36,1.36,0,0,0,.89-1.71,1.5,1.5,0,0,0-.16-.34c-.27-.53-.45-1.1-.69-1.65a1.17,1.17,0,0,0-.26-.44,2.5,2.5,0,0,1-1-2.78,2.76,2.76,0,0,0,0-1.56,4.86,4.86,0,0,1,3.56-5.86l.07,0c2.43-.6,4.3.56,6.11,1.85A2.52,2.52,0,0,1,32,19.71a23.65,23.65,0,0,1,0,3.15c0,.17-.07.37,0,.51a2.13,2.13,0,0,1-.23,2.42,7.85,7.85,0,0,0-1.34,2.48,2.25,2.25,0,0,1-.12.21c-.67,1.2-.44,1.77.87,2.22s2.49.91,3.8,1.4Zm-14.6,1.66c4,3.07,9.85,2.5,12.73,0l-1.7-.63A21.4,21.4,0,0,1,29,32.14,2.1,2.1,0,0,1,27.8,30c.05-.56,0-1.12,0-1.68a1.21,1.21,0,0,1,.19-.52,7,7,0,0,0,.64-1.05,18.1,18.1,0,0,0,.42-1.8c.36-.09.94.17.88-.59l-.4-.23c.15-1.14.36-2.2.4-3.25s-.43-1.55-1.49-1.74a1.9,1.9,0,0,1-.48-.27c-.34-.19-.67-.52-1-.52a8,8,0,0,0-2.06.3,1.87,1.87,0,0,0-1.3,1.45,4.84,4.84,0,0,0,.2,3.12c.1.23.19.47.23.59l-.54.68.82.46a8.69,8.69,0,0,0,.86,2.38,2.64,2.64,0,0,1,.45,1.7c0,.32,0,.64,0,1a2.15,2.15,0,0,1-1.2,2.17,11.75,11.75,0,0,1-1.58.71c-.81.3-1.62.57-2.53.9Zm3.14,8.68a3,3,0,0,0-3.25,2.82,2.44,2.44,0,0,0,0,.38,3.25,3.25,0,1,0,6.5,0h0a3.07,3.07,0,0,0-2.89-3.23ZM18,9.79a3.08,3.08,0,0,0,3.26-2.88c0-.11,0-.22,0-.33A3.12,3.12,0,0,0,18.34,3.3H18A3.07,3.07,0,0,0,14.8,6.22a2,2,0,0,0,0,.35,3,3,0,0,0,2.82,3.22,2.81,2.81,0,0,0,.41,0ZM6.1,35.87A3,3,0,0,0,9.31,33a2.67,2.67,0,0,0,0-.4,3.07,3.07,0,0,0-2.88-3.25H6.09a3.12,3.12,0,0,0-3.27,2.95v.28a3.08,3.08,0,0,0,2.89,3.26,2.54,2.54,0,0,0,.39,0ZM43,12a3.06,3.06,0,0,0,3.26-2.84c0-.12,0-.24,0-.36a3.1,3.1,0,0,0-2.91-3.28,2.16,2.16,0,0,0-.36,0A3.24,3.24,0,1,0,43,12ZM45.2,43.48A3.24,3.24,0,1,0,42,40.26,3.24,3.24,0,0,0,45.2,43.48Z" />
      </svg> Top 5 features value based on top DXI value </h3>
    <div class="bg-white px-5 py-3 d-flex justify-content-center main_div_top_five">
      <canvas id="five_f_topdxiChart" style="max-width:75%;"> </canvas>
      
    </div>
    <div class="mt-4">
      <table class="table table-bordered">
        <thead>
          <tr class="bg-primary text-white">         
            <th class="px-4">Feature Name</th>
            <th class="px-4">Significance</th>
            <th class="px-4">Composite DXI</th>
          </tr>
        </thead>
        <tbody class="border" id="top-DXI-Value">
        {% for n in featureName_list %}
        <tr class="bg-white">
          <td class="px-4">{{n.obj.featureName}}</td>
          {% for m in v_seg_top_dxi %}
          {% if m.featureID_id == n.obj.id %}
          <td class="px-4"><script> document.write(({{m.significance}}).toFixed(2))</script></td>
          <td class="px-4"><script> document.write(({{m.compositeDXI}}).toFixed(2))</script></td>
          {% endif %}
          {%endfor%} 
        </tr>
        {%endfor%}
        </tbody>
        
      </table>
    </div>
    <h3 class="ms-2 heading mb-4 mt-4"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 52.51 52.26" style="fill: #401648; width: 40px2.6vw; height: 2.925vw">
        <defs></defs>
        <path id="Path_2" data-name="Path 2" class="cls-1"
          d="M23.6,37.46a13,13,0,0,1-8.54-6.8l-3.64,1.1a5.4,5.4,0,0,1-1.24,4.56A4.88,4.88,0,0,1,7.08,38,5.33,5.33,0,0,1,.89,34.36,5.5,5.5,0,0,1,3.6,27.73c2.25-1.07,5.67-.57,7.06,2l3.66-1.09c-1.81-6.44.68-11.13,5.94-14.75-.27-.6-.53-1.22-.84-1.82a.59.59,0,0,0-.47-.19,5.09,5.09,0,0,1-5.44-2.17,5.57,5.57,0,0,1,0-6.23A5.41,5.41,0,0,1,19,1.2c4.26.67,5.65,5.63,3.37,8.73-.27.37-.53.76-.8,1.14l-.26-.2.9,2A12.29,12.29,0,0,1,29,12.19a13.44,13.44,0,0,1,6,2.89l3.5-3.5A5.44,5.44,0,0,1,37.84,7,5.06,5.06,0,0,1,40,4.13a5.5,5.5,0,1,1,.18,9.21l-3.5,3.5a12.91,12.91,0,0,1,3.06,7.55,12.45,12.45,0,0,1-2.48,7.91c1.09.9,2.2,1.75,3.21,2.71a1.78,1.78,0,0,0,2.49.36h0a4.91,4.91,0,0,1,5.82.74,5.25,5.25,0,0,1,1.6,5.73,4.91,4.91,0,0,1-4.28,3.76,5.28,5.28,0,0,1-6.35-5.17,11,11,0,0,1,.44-2.27c0-.19,0-.48-.06-.57-1.35-1.16-2.72-2.29-4.1-3.43A12.86,12.86,0,0,1,25.74,38l-.33,2.64a4.72,4.72,0,0,1,3.18,3.18,5.74,5.74,0,0,1-.1,4A5.37,5.37,0,0,1,22.14,51,5.24,5.24,0,0,1,18,45.52c.09-3,1.85-4.8,5.21-5.27C23.36,39.33,23.48,38.42,23.6,37.46ZM34.94,32.1A10.86,10.86,0,1,0,18.56,17.85h0c-4,4.46-3.22,11.06,0,14.26l4-1.48a1.36,1.36,0,0,0,.89-1.71,1.5,1.5,0,0,0-.16-.34c-.27-.53-.45-1.1-.69-1.65a1.17,1.17,0,0,0-.26-.44,2.5,2.5,0,0,1-1-2.78,2.76,2.76,0,0,0,0-1.56,4.86,4.86,0,0,1,3.56-5.86l.07,0c2.43-.6,4.3.56,6.11,1.85A2.52,2.52,0,0,1,32,19.71a23.65,23.65,0,0,1,0,3.15c0,.17-.07.37,0,.51a2.13,2.13,0,0,1-.23,2.42,7.85,7.85,0,0,0-1.34,2.48,2.25,2.25,0,0,1-.12.21c-.67,1.2-.44,1.77.87,2.22s2.49.91,3.8,1.4Zm-14.6,1.66c4,3.07,9.85,2.5,12.73,0l-1.7-.63A21.4,21.4,0,0,1,29,32.14,2.1,2.1,0,0,1,27.8,30c.05-.56,0-1.12,0-1.68a1.21,1.21,0,0,1,.19-.52,7,7,0,0,0,.64-1.05,18.1,18.1,0,0,0,.42-1.8c.36-.09.94.17.88-.59l-.4-.23c.15-1.14.36-2.2.4-3.25s-.43-1.55-1.49-1.74a1.9,1.9,0,0,1-.48-.27c-.34-.19-.67-.52-1-.52a8,8,0,0,0-2.06.3,1.87,1.87,0,0,0-1.3,1.45,4.84,4.84,0,0,0,.2,3.12c.1.23.19.47.23.59l-.54.68.82.46a8.69,8.69,0,0,0,.86,2.38,2.64,2.64,0,0,1,.45,1.7c0,.32,0,.64,0,1a2.15,2.15,0,0,1-1.2,2.17,11.75,11.75,0,0,1-1.58.71c-.81.3-1.62.57-2.53.9Zm3.14,8.68a3,3,0,0,0-3.25,2.82,2.44,2.44,0,0,0,0,.38,3.25,3.25,0,1,0,6.5,0h0a3.07,3.07,0,0,0-2.89-3.23ZM18,9.79a3.08,3.08,0,0,0,3.26-2.88c0-.11,0-.22,0-.33A3.12,3.12,0,0,0,18.34,3.3H18A3.07,3.07,0,0,0,14.8,6.22a2,2,0,0,0,0,.35,3,3,0,0,0,2.82,3.22,2.81,2.81,0,0,0,.41,0ZM6.1,35.87A3,3,0,0,0,9.31,33a2.67,2.67,0,0,0,0-.4,3.07,3.07,0,0,0-2.88-3.25H6.09a3.12,3.12,0,0,0-3.27,2.95v.28a3.08,3.08,0,0,0,2.89,3.26,2.54,2.54,0,0,0,.39,0ZM43,12a3.06,3.06,0,0,0,3.26-2.84c0-.12,0-.24,0-.36a3.1,3.1,0,0,0-2.91-3.28,2.16,2.16,0,0,0-.36,0A3.24,3.24,0,1,0,43,12ZM45.2,43.48A3.24,3.24,0,1,0,42,40.26,3.24,3.24,0,0,0,45.2,43.48Z" />
      </svg> Top 5 features value based on low DXI value </h3>
    <div class="bg-white px-5 py-3 d-flex justify-content-center main_div_low_five">
      <canvas id="five_f_lowdxiChart" style="max-width:75%"></canvas>   
    </div>
    <div class="mt-4">
      <table class="table table-bordered">
      <thead>
        <tr class="bg-primary text-white">         
          <th class="px-4">Feature Name</th>
          <th class="px-4">Significance</th>
          <th class="px-4">Composite DXI</th>
        </tr>
        </thead>
        <tbody class="border" id="top-Low-Value">
        {% for n in featureName_list2 %}
        <tr class="bg-white">
          <td  class="px-4">{{n.obj.featureName}}</td>
          {% for m in v_seg_low_dxi %}
          {% if m.featureID_id == n.obj.id %}
          <td  class="px-4"><script> document.write(({{m.significance}}).toFixed(2))</script></td>
          <td  class="px-4"><script> document.write(({{m.compositeDXI}}).toFixed(2))</script></td>
          {% endif %}
          {%endfor%} 
        </tr>
        {%endfor%}
        </tbody>
        </table>
    </div>

    <h3 class="ms-2 heading mb-4 mt-4"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 52.51 52.26" style="fill: #401648; width: 40px2.6vw; height: 2.925vw">
      <defs></defs>
      <path id="Path_2" data-name="Path 2" class="cls-1"
        d="M23.6,37.46a13,13,0,0,1-8.54-6.8l-3.64,1.1a5.4,5.4,0,0,1-1.24,4.56A4.88,4.88,0,0,1,7.08,38,5.33,5.33,0,0,1,.89,34.36,5.5,5.5,0,0,1,3.6,27.73c2.25-1.07,5.67-.57,7.06,2l3.66-1.09c-1.81-6.44.68-11.13,5.94-14.75-.27-.6-.53-1.22-.84-1.82a.59.59,0,0,0-.47-.19,5.09,5.09,0,0,1-5.44-2.17,5.57,5.57,0,0,1,0-6.23A5.41,5.41,0,0,1,19,1.2c4.26.67,5.65,5.63,3.37,8.73-.27.37-.53.76-.8,1.14l-.26-.2.9,2A12.29,12.29,0,0,1,29,12.19a13.44,13.44,0,0,1,6,2.89l3.5-3.5A5.44,5.44,0,0,1,37.84,7,5.06,5.06,0,0,1,40,4.13a5.5,5.5,0,1,1,.18,9.21l-3.5,3.5a12.91,12.91,0,0,1,3.06,7.55,12.45,12.45,0,0,1-2.48,7.91c1.09.9,2.2,1.75,3.21,2.71a1.78,1.78,0,0,0,2.49.36h0a4.91,4.91,0,0,1,5.82.74,5.25,5.25,0,0,1,1.6,5.73,4.91,4.91,0,0,1-4.28,3.76,5.28,5.28,0,0,1-6.35-5.17,11,11,0,0,1,.44-2.27c0-.19,0-.48-.06-.57-1.35-1.16-2.72-2.29-4.1-3.43A12.86,12.86,0,0,1,25.74,38l-.33,2.64a4.72,4.72,0,0,1,3.18,3.18,5.74,5.74,0,0,1-.1,4A5.37,5.37,0,0,1,22.14,51,5.24,5.24,0,0,1,18,45.52c.09-3,1.85-4.8,5.21-5.27C23.36,39.33,23.48,38.42,23.6,37.46ZM34.94,32.1A10.86,10.86,0,1,0,18.56,17.85h0c-4,4.46-3.22,11.06,0,14.26l4-1.48a1.36,1.36,0,0,0,.89-1.71,1.5,1.5,0,0,0-.16-.34c-.27-.53-.45-1.1-.69-1.65a1.17,1.17,0,0,0-.26-.44,2.5,2.5,0,0,1-1-2.78,2.76,2.76,0,0,0,0-1.56,4.86,4.86,0,0,1,3.56-5.86l.07,0c2.43-.6,4.3.56,6.11,1.85A2.52,2.52,0,0,1,32,19.71a23.65,23.65,0,0,1,0,3.15c0,.17-.07.37,0,.51a2.13,2.13,0,0,1-.23,2.42,7.85,7.85,0,0,0-1.34,2.48,2.25,2.25,0,0,1-.12.21c-.67,1.2-.44,1.77.87,2.22s2.49.91,3.8,1.4Zm-14.6,1.66c4,3.07,9.85,2.5,12.73,0l-1.7-.63A21.4,21.4,0,0,1,29,32.14,2.1,2.1,0,0,1,27.8,30c.05-.56,0-1.12,0-1.68a1.21,1.21,0,0,1,.19-.52,7,7,0,0,0,.64-1.05,18.1,18.1,0,0,0,.42-1.8c.36-.09.94.17.88-.59l-.4-.23c.15-1.14.36-2.2.4-3.25s-.43-1.55-1.49-1.74a1.9,1.9,0,0,1-.48-.27c-.34-.19-.67-.52-1-.52a8,8,0,0,0-2.06.3,1.87,1.87,0,0,0-1.3,1.45,4.84,4.84,0,0,0,.2,3.12c.1.23.19.47.23.59l-.54.68.82.46a8.69,8.69,0,0,0,.86,2.38,2.64,2.64,0,0,1,.45,1.7c0,.32,0,.64,0,1a2.15,2.15,0,0,1-1.2,2.17,11.75,11.75,0,0,1-1.58.71c-.81.3-1.62.57-2.53.9Zm3.14,8.68a3,3,0,0,0-3.25,2.82,2.44,2.44,0,0,0,0,.38,3.25,3.25,0,1,0,6.5,0h0a3.07,3.07,0,0,0-2.89-3.23ZM18,9.79a3.08,3.08,0,0,0,3.26-2.88c0-.11,0-.22,0-.33A3.12,3.12,0,0,0,18.34,3.3H18A3.07,3.07,0,0,0,14.8,6.22a2,2,0,0,0,0,.35,3,3,0,0,0,2.82,3.22,2.81,2.81,0,0,0,.41,0ZM6.1,35.87A3,3,0,0,0,9.31,33a2.67,2.67,0,0,0,0-.4,3.07,3.07,0,0,0-2.88-3.25H6.09a3.12,3.12,0,0,0-3.27,2.95v.28a3.08,3.08,0,0,0,2.89,3.26,2.54,2.54,0,0,0,.39,0ZM43,12a3.06,3.06,0,0,0,3.26-2.84c0-.12,0-.24,0-.36a3.1,3.1,0,0,0-2.91-3.28,2.16,2.16,0,0,0-.36,0A3.24,3.24,0,1,0,43,12ZM45.2,43.48A3.24,3.24,0,1,0,42,40.26,3.24,3.24,0,0,0,45.2,43.48Z" />
    </svg>  Top 5 features value based top DXI only for buyers </h3>
  <div class="bg-white px-5 py-3 d-flex justify-content-center main_div_buyer_five">
    <canvas id="five_f_topdxibuyerChart" style="max-width:75%"></canvas>
    
  </div>
  <div class="mt-4">
    <table class="table table-bordered" >
      <thead>
        <tr class="bg-primary text-white">         
          <th class="px-4">Feature Name</th>
          <th class="px-4">Significance</th>
          <th class="px-4">Composite DXI</th>
        </tr>
        </thead>
        <tbody class="border" id="top-dxi-buyer">
        {% for n in featureName_list3 %}
        <tr class="bg-white">
          <td  class="px-4">{{n.obj.featureName}}</td>
          {% for m in v_seg_top_buyer %}
          {% if m.featureID_id == n.obj.id %}
          <td  class="px-4"><script> document.write(({{m.significance}}).toFixed(2))</script></td>
          <td  class="px-4"><script> document.write(({{m.compositeDXI}}).toFixed(2))</script></td>
          {% endif %}
          {%endfor%} 
        </tr>
        {%endfor%}
        </tbody>
        </table>
  </div>
  </div>

  </div>
  <p>{{ msg }}</p>
</section>

<script src="https://www.gstatic.com/charts/loader.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<script>
  google.charts.load('current', { 'packages': ['corechart'] });
  google.charts.setOnLoadCallback(drawChart);

  function drawChart() {
    var data = google.visualization.arrayToDataTable([
      ['data', 'value'],
      ['Loosing', {{ visitor_segmantaion_data.loosingScore }}],
      ['Loyal', {{ visitor_segmantaion_data.loyalScore }}],

        ]);

        var options = {
        title: '',
        sliceVisibilityThreshold: 0

      };
    
      var chart = new google.visualization.PieChart(document.getElementById('visitor_seg_pie_chart'));
      chart.draw(data, options);
    }
</script>
<script>

  var xValues = [{% for n in featureName_list %} "{{ n.obj.featureName }}",{%endfor%}];
  var yValues = [{% for m in v_seg_top_dxi %} {{ m.significance }},{%endfor%}];
  var barColors = ["red", "green", "blue", "orange", "brown"];
  yt = 'Significance Score';
  new Chart("five_f_topdxiChart", {
    type: "bar",
    data: {
      labels: xValues,
      datasets: [{
        backgroundColor: barColors,
        label: ['Significance'],
        data:yValues
      }]
    },
    options: {
      legend: { display: false,padding:50 },
      title: {
        display: true,
        text: "Top 5 features value based on top DXI value",
        fontSize: 18,
        fontColor: '#030',
        padding:40
        
      },
      scales: {
    yAxes: [{
      scaleLabel: {
        display: true,
        labelString: yt,
        fontSize: 18,
            fontColor: '#030',
      }
    }],
    xAxes: [{
      scaleLabel: {
        display: true,
        labelString: 'Feature Name',
        fontSize: 18,
        fontColor: '#030',
      }
    }]
  }   
    }
  });
</script>
<script>
  var xValues = [{% for n in featureName_list2 %} "{{ n.obj.featureName }}",{%endfor%}];
  var yValues = [{% for s in v_seg_low_dxi %} {{ s.significance }},{%endfor%}];
  var barColors = ["red", "green", "blue", "orange", "brown"];

  new Chart("five_f_lowdxiChart", {
    type: "bar",
    data: {
      labels: xValues,
      datasets: [{
        backgroundColor: barColors,
        data: yValues
      }]
    },
    options: {
      legend: { display: false,padding:50 },
      
      title: {
        display: true,
        text: "Top 5 features value based on Low DXI value",
        fontSize: 18,
        fontColor: '#030',
        padding:30
      },
      scales: {
    yAxes: [{
      scaleLabel: {
        display: true,
        labelString: yt,
        fontSize: 18,
            fontColor: '#030',
      }
    }],
    xAxes: [{
      scaleLabel: {
        display: true,
        labelString: 'Feature Name',
        fontSize: 18,
        fontColor: '#030',
      }
    }]
  }   
    }
  });
</script>
<script>
  var xValues = [{% for n in featureName_list3 %} "{{ n.obj.featureName }}",{%endfor%}];
  var yValues = [{% for s in v_seg_top_buyer %} {{ s.significance }},{%endfor%}];
  var barColors = ["red", "green", "blue", "orange", "brown"];

  new Chart("five_f_topdxibuyerChart", {
    type: "bar",
    data: {
      labels: xValues,
      datasets: [{
        backgroundColor: barColors,
        data: yValues
      }]
    },
    options: {
      legend: {display: false,padding:50},
      title: {
        display: true,
        text: "Top 5 features value based on Top Buyer Value",
        fontSize: 18,
        fontColor: '#030',
      },
      scales: {
    yAxes: [{
      scaleLabel: {
        display: true,
        labelString: yt,
        fontSize: 18,
            fontColor: '#030',
      }
    }],
    xAxes: [{
      scaleLabel: {
        display: true,
        labelString: 'Feature Name',
        fontSize: 18,
        fontColor: '#030',
      }
    }],
    
  }   
       
    }
  });
</script>
{% endblock %}